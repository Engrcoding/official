<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Reseller Admin Panel</title>

  <!-- Bootstrap Icons CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

  <style>
  body {
  font-family: Arial, sans-serif;
  margin: 0;

  /* Background image */
  background-image: url('https://img.freepik.com/free-vector/blue-fluid-background-frame_53876-99019.jpg?semt=ais_hybrid&w=740');
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center;
  position: relative;
  min-height: 100vh;
  color: #fff;
}

body::before {
  content: "";
  position: fixed; /* Cover entire viewport */
  top: 0; left: 0; right: 0; bottom: 0;
  background-color: rgba(0, 0, 0, 0.8); /* Black with 30% opacity */
  z-index: -1; /* Behind content */
}


    *, *::before, *::after {
      box-sizing: border-box;
    }

  .login-system {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background-image: url('https://img.freepik.com/free-vector/blue-fluid-background-frame_53876-99019.jpg?semt=ais_hybrid&w=740')
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center;
  position: relative;
}

.login-system::before {
  content: "";
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: linear-gradient(-20deg, #b721ff 0%, #21d4fd 100%);
  opacity: 0.3; /* Adjust transparency */
  z-index: 0;
}

.login-system > * {
  position: relative;
  z-index: 1;
}


    h2 { margin: 0 }

    .login-box {
      background: rgba(255, 255, 255, 0.2);
      border-radius: 16px;
      padding: 20px;
      width: 90%;
      max-width: 320px;
      text-align: center;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(5px);
    }

    .login-box input {
      display: block;
      width: 100%;
      margin: 10px 0;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
    }

    .login-box button {
      width: 100%;
      padding: 10px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }

    .container {
      padding: 20px;
      max-width: 960px;
      margin: 0 auto;
    }

    .hidden { display: none; }

  .logo-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    padding: 0px;
    margin:30px 0 20px 0;
}

.logo-container img {
  height: 40px; /* or whatever size you want */
}

.logo-container div {
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.logout-btn {
  cursor: pointer;
  padding: 6px 10px;
  font-size: 14px;
  border-radius:5px;
  border:none;
  background: #a2bfff;
    color: #fff;
}


    .logo-text {
      font-size: 25px;
      font-weight: bold;
      color: #fff;
      text-transform: uppercase;
    }

    .logo-subtext {
      font-size: 14px;
      color: #fff;
    }

    .table-wrapper {
      overflow-x: auto;
    }

    table {
      width: 100%;
      border-collapse: collapse;
     /* From https://css.glass */
background: rgba(117, 139, 225, 0.55);
border-radius: 16px;
box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
backdrop-filter: blur(5px);
-webkit-backdrop-filter: blur(5px);
border: 1px solid rgba(117, 139, 225, 0.17);
      border-radius: 8px;
      color: #fff;
      margin-top: 10px;
    }

    th, td {
      padding: 8px;
      font-size: 14px;
      text-align: center;
    }

    th {
      background: #007cff52;
      color: white;
    }

    table thead tr:first-child th:first-child {
      border-top-left-radius: 8px;
    }

    table thead tr:first-child th:last-child {
      border-top-right-radius: 8px;
    }

    table th, table td {
      white-space: nowrap;
    }

    .bottom-nav {
      position: fixed;
      bottom: 20px;
      left: 50%;
      width: 90%;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 16px;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(5px);
      transform: translateX(-50%);
      display: flex;
      justify-content: space-around;
      padding: 8px 0;
      z-index: 10;
    }

    .bottom-nav button {
      background: none;
      border: none;
      font-size: 14px;
      color: #fff;
      cursor: pointer;
      flex-grow: 1;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .bottom-nav button i {
      font-size: 16px;
    }

    .active-tab {
      font-weight: bold;
      color: #fff;
      background-color: #007bff;
      border-radius: 4px;
    }

 #total-earnings-card {
  position: sticky;
  top: 0;
  z-index: 999;
  background: linear-gradient(90deg, #b25eff45 0%, #56ace982 100%);
  padding: 20px 15px;
  margin-bottom: 20px;
  border-radius: 10px;
  font-size: 16px;
  font-weight: bold;
  color: #fff;

  display: flex;
  align-items: center;
  justify-content: space-between;
}

#total-earnings-card .left-text {
  white-space: nowrap;
}

#total-earnings-card button {
  background: #fff;
  color: #007bff;
  border: none;
  border-radius: 4px;
  padding: 5px 10px;
  cursor: pointer;
  font-size: 12px;
  float: none;
}


    .transaction-card {
      background: rgba(255, 255, 255, 0.9);
      color: #000;
      border-radius: 10px;
      padding: 10px 15px;
      margin: 10px 0;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .transaction-card:hover {
      background: #f0f0f0;
    }

    .transaction-card .details {
      display: none;
      font-size: 14px;
      margin-top: 8px;
    }

    .transaction-card.expanded .details {
      display: block;
    }

    .approve-btn {
      background-color: #28a745;
      color: white;
      border: none;
      border-radius: 6px;
      padding: 6px 10px;
      cursor: pointer;
      font-size: 14px;
    }
    
     #earnings-summary{margin-top:20px}

  .transaction-card {
    color: #fff;
    padding: 12px 18px;
    margin: 12px 0;
    cursor: pointer;
    transition: all 0.3s ease;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 10px;
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    border: 1px solid rgba(255, 255, 255, 0.3);
  }
  .transaction-card:hover {
    background:#2f4a8530;
  }
  .transaction-card .details {
    display: none;
    margin-top: 8px;
    font-size: 14px;
  }
  .transaction-card.expanded .details {
    display: block;
  }
  .card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: normal;
  font-size: 14px;
  color: #ddd;
}

.left-info {
  display: flex;
  gap: 6px;
  font-weight: normal;
  color:#fff;
}

.status {
  font-weight: normal;
  text-transform: capitalize;
  font-size: 14px;
  color: #fff;
  display: flex;
  align-items: center;
  gap: 5px;
}

.status i {
  color: #6cff8d; 
  font-size: 14px;
}
 .commission {
    padding: 10px 16px;
    font-size: 14px;
    background-color: black;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
  }

  .modal {
    display: none;
    position: fixed;
    z-index: 999;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color:#000;
  }

  .modal-content {
    background-color: white;
    margin: auto;
    padding:0;
    width: 100%;
    color: #111;
    font-size: 14px;
  }
  

  .modal-img {
    width: 100%;
    margin-bottom: 10px;
  }
 .modal-details{
  padding:0 10px;
 }
  .modal-details p{
    margin:0;
  }
  .copy-btn {
    margin-left: 10px;
    font-size: 12px;
    padding: 4px 8px;
    background-color: black;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }

  .close-btn {
    margin-top: 20px;
    padding: 8px 16px;
    font-size: 14px;
    background-color: #555;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
  }

  @media screen and (max-width: 480px) {
    .modal-content {
      width: 100%;
      font-size: 13px;
      padding: 0;
      border-radius: 0 0 10px 10px;
    }

    .copy-btn, .close-btn {
      font-size: 12px;
      padding: 6px 10px;
    }
  }
  
   .btn-approve, .btn-delete {
    padding: 2px 5px;
    border: none;
    border-radius: 4px;
    font-size: 14px;
    cursor: pointer;
    margin-right: 5px;
display: inline-flex;
  align-items: center;
  gap: 2px;
  vertical-align: middle;
 
  }
button i.bi {
  font-size: 12px;      
  vertical-align: middle;
  line-height: 0.8;
}
  .btn-approve {
    background-color: #28a745;
    color: white;
  }

  .btn-delete {
    background-color: #dc3545;
    color: white;
  }

  .btn-approve i, .btn-delete i {
    margin-right: 4px;
  }

  .btn-approve:hover {
    background-color: #218838;
  }

  .btn-delete:hover {
    background-color: #c82333;
  }
  
  </style>
</head>
<body>

  <div class="login-system" id="login-system">
    <div class="login-box">
      <h2><i class="bi bi-person-lock"></i> Reseller Login</h2>
      <input type="email" id="login-email" placeholder="Email" />
      <input type="password" id="login-password" placeholder="Password" />
      <button onclick="resellerLogin()"><i class="bi bi-box-arrow-in-right"></i> Login</button>
    </div>
  </div>

  <div class="container hidden" id="main-container">
   <div class="logo-container">
  <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjjDiPVHhhzdMUOC0B1utd9cXgspJvdnWcbsHUS2mU1-iJ4ZnsriRYm8fD2qHxVHpLljhDSgzSfpSL6YWJBJRHmY5cDp4s-ZVls1Lxyvwd3A8B-mRDakTv6YURIGTQnFCxczg7RqZjO-0-clG65F8jqXmHqdfXVYwv5dh7ldzSfQavwtbooBHPLg2SCYbs/s1600/mew.png" />
  <div>
    <div class="logo-text">ABEFILM</div>
    <div class="logo-subtext">Movies & Series</div>
  </div>
  
  <button class="logout-btn" onclick="logout()"><i class="bi bi-box-arrow-right"></i> Logout</button>
</div>


    <div id="total-earnings-card" class="hidden">
  <div class="left-text">Total Earnings: ₱<span id="total-earnings-value"></span></div>


<!-- Button to open modal -->
<button class="commission" onclick="openCommissionModal()">Pay <br> Commission</button>

<!-- Modal -->
<div id="commissionModal" class="modal">
  <div class="modal-content">
    <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiUNNnLWo48vDPMAgVwLpE01_1evcyRU81ikjyaifEjWNZJ6r7KXCbUB0fBCsUpfMH7jebM_dboOLNSZlDLEm71AsOsEk3sLMjdxEAiLPAxjEY6wNKuQ8jnKmz2tVLpoGy9deHGUa1LTUId63Zu9YQVNtxEYN5j9p_UrCq_bP2Bm3D8hKL68YF-F4e-ouve/s2048/1000111555.jpg" 
         class="modal-img">
  <div class="modal-details">
    <p><strong>Account Name:</strong> Ariel O. Mentawan</p>
    <p><strong>Account Number:</strong> 
      <span id="accountNumber">09074644272</span>
      <button class="copy-btn" onclick="copyText('accountNumber')">Copy</button>
    </p>

    <button class="close-btn" onclick="closeCommissionModal()">Close</button>
  </div>
  </div>
</div>

</div>

    <div class="panel-box hidden" id="panel-box">
      <h2 id="tab-title"><i class="bi bi-hourglass-split"></i> Pending Accounts</h2>
      <div class="table-wrapper">
        <table id="account-table">
          <thead></thead>
          <tbody id="table-body"></tbody>
        </table>
      </div>
      <div id="earnings-summary">Transaction Summary</div>
      <div id="transaction-history" style="margin:5px 0 75px 0;"></div>
    </div>

    <div class="bottom-nav" id="bottom-nav">
      <button id="tab-pending" class="active-tab" onclick="switchTab('pending')">
        <i class="bi bi-person-lines-fill"></i>
        <span>Pending</span>
      </button>
      <button id="tab-approved" onclick="switchTab('approved')">
        <i class="bi bi-person-check"></i>
        <span>Approved</span>
      </button>
    </div>
  </div>

<script type="module">
const _0x23f62d=_0x2383;(function(_0x2224d8,_0x20c20d){const _0x339cc0=_0x2383,_0x28ed15=_0x2224d8();while(!![]){try{const _0xc74792=-parseInt(_0x339cc0(0x9e))/0x1*(-parseInt(_0x339cc0(0xd3))/0x2)+-parseInt(_0x339cc0(0xa1))/0x3*(parseInt(_0x339cc0(0xe7))/0x4)+-parseInt(_0x339cc0(0xa6))/0x5+-parseInt(_0x339cc0(0x115))/0x6*(parseInt(_0x339cc0(0xc5))/0x7)+parseInt(_0x339cc0(0xe5))/0x8+-parseInt(_0x339cc0(0xf1))/0x9+parseInt(_0x339cc0(0xaa))/0xa;if(_0xc74792===_0x20c20d)break;else _0x28ed15['push'](_0x28ed15['shift']());}catch(_0x3421ab){_0x28ed15['push'](_0x28ed15['shift']());}}}(_0x42a7,0x3ef32));const _0x66a205=(function(){let _0x1d0a35=!![];return function(_0xc66950,_0x3812df){const _0x2071c8=_0x1d0a35?function(){if(_0x3812df){const _0x81227e=_0x3812df['apply'](_0xc66950,arguments);return _0x3812df=null,_0x81227e;}}:function(){};return _0x1d0a35=![],_0x2071c8;};}()),_0x48c910=_0x66a205(this,function(){const _0x1d1592=_0x2383;return _0x48c910['toString']()[_0x1d1592(0x10d)]('(((.+)+)+)+$')[_0x1d1592(0xa3)]()['constructor'](_0x48c910)[_0x1d1592(0x10d)]('(((.+)+)+)+$');});_0x48c910();const _0x5e84cf=(function(){let _0x577e2b=!![];return function(_0x430d16,_0x4e1708){const _0x235b46=_0x577e2b?function(){const _0x34ab57=_0x2383;if(_0x4e1708){const _0xa60f8c=_0x4e1708[_0x34ab57(0xe1)](_0x430d16,arguments);return _0x4e1708=null,_0xa60f8c;}}:function(){};return _0x577e2b=![],_0x235b46;};}()),_0x5f382a=_0x5e84cf(this,function(){const _0x20e15b=_0x2383;let _0x58423a;try{const _0x375000=Function(_0x20e15b(0x116)+_0x20e15b(0xda)+');');_0x58423a=_0x375000();}catch(_0x49e1b7){_0x58423a=window;}const _0x2cd467=new RegExp(_0x20e15b(0xc4),'g'),_0x31e16c=_0x20e15b(0x10b)['replace'](_0x2cd467,'')[_0x20e15b(0xad)](';');let _0x340280,_0x17ab57,_0x2544c9,_0x308356;const _0xef58f5=function(_0x7737a2,_0x1e5ef6,_0x2b8094){const _0x133938=_0x20e15b;if(_0x7737a2[_0x133938(0x108)]!=_0x1e5ef6)return![];for(let _0x56722b=0x0;_0x56722b<_0x1e5ef6;_0x56722b++){for(let _0x3e569d=0x0;_0x3e569d<_0x2b8094[_0x133938(0x108)];_0x3e569d+=0x2){if(_0x56722b==_0x2b8094[_0x3e569d]&&_0x7737a2[_0x133938(0xfe)](_0x56722b)!=_0x2b8094[_0x3e569d+0x1])return![];}}return!![];},_0x14394c=function(_0x347275,_0x392f9b,_0x54f391){return _0xef58f5(_0x392f9b,_0x54f391,_0x347275);},_0xc5559a=function(_0x5a7ce6,_0x3d6881,_0x23d2f4){return _0x14394c(_0x3d6881,_0x5a7ce6,_0x23d2f4);},_0x5148d4=function(_0x47f4cc,_0x386e07,_0x3a61b0){return _0xc5559a(_0x386e07,_0x3a61b0,_0x47f4cc);};for(let _0x3fa8af in _0x58423a){if(_0xef58f5(_0x3fa8af,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x340280=_0x3fa8af;break;}}for(let _0x453b4b in _0x58423a[_0x340280]){if(_0x5148d4(0x6,_0x453b4b,[0x5,0x6e,0x0,0x64])){_0x17ab57=_0x453b4b;break;}}for(let _0x543076 in _0x58423a[_0x340280]){if(_0xc5559a(_0x543076,[0x7,0x6e,0x0,0x6c],0x8)){_0x2544c9=_0x543076;break;}}if(!('~'>_0x17ab57))for(let _0x44e631 in _0x58423a[_0x340280][_0x2544c9]){if(_0x14394c([0x7,0x65,0x0,0x68],_0x44e631,0x8)){_0x308356=_0x44e631;break;}}if(!_0x340280||!_0x58423a[_0x340280])return;const _0x4e9a36=_0x58423a[_0x340280][_0x17ab57],_0x2f8483=!!_0x58423a[_0x340280][_0x2544c9]&&_0x58423a[_0x340280][_0x2544c9][_0x308356],_0x1e6192=_0x4e9a36||_0x2f8483;if(!_0x1e6192)return;let _0x5a1fac=![];for(let _0x371345=0x0;_0x371345<_0x31e16c[_0x20e15b(0x108)];_0x371345++){const _0x269ca0=_0x31e16c[_0x371345],_0x4d324d=_0x269ca0[0x0]===String[_0x20e15b(0xe9)](0x2e)?_0x269ca0['slice'](0x1):_0x269ca0,_0x24cc13=_0x1e6192[_0x20e15b(0x108)]-_0x4d324d['length'],_0x131a2c=_0x1e6192[_0x20e15b(0xb6)](_0x4d324d,_0x24cc13),_0x379879=_0x131a2c!==-0x1&&_0x131a2c===_0x24cc13;_0x379879&&((_0x1e6192[_0x20e15b(0x108)]==_0x269ca0[_0x20e15b(0x108)]||_0x269ca0['indexOf']('.')===0x0)&&(_0x5a1fac=!![]));}if(!_0x5a1fac){const _0x29f131=new RegExp('[YZyUDJxCzmZmZZHHHXPYMOWmzEDyxKTqSWMXHPENQwRSPGUGDZKVOTKJzTCYvzBYEGFyQPAMQKLES]','g'),_0x110b32=_0x20e15b(0xe4)[_0x20e15b(0xf3)](_0x29f131,'');_0x58423a[_0x340280][_0x2544c9]=_0x110b32;}});_0x5f382a();const _0x41e62d=(function(){let _0x3a9dda=!![];return function(_0x219f0f,_0xca99f4){const _0x69effe=_0x3a9dda?function(){const _0xdcac00=_0x2383;if(_0xca99f4){const _0x6bdf41=_0xca99f4[_0xdcac00(0xe1)](_0x219f0f,arguments);return _0xca99f4=null,_0x6bdf41;}}:function(){};return _0x3a9dda=![],_0x69effe;};}()),_0x3a9a09=_0x41e62d(this,function(){const _0x48acad=_0x2383;let _0x3dee51;try{const _0x568577=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x3dee51=_0x568577();}catch(_0x39fa86){_0x3dee51=window;}const _0x3fad59=_0x3dee51[_0x48acad(0x98)]=_0x3dee51[_0x48acad(0x98)]||{},_0x298f93=[_0x48acad(0xa8),_0x48acad(0xc2),_0x48acad(0xcc),'error',_0x48acad(0xd9),'table',_0x48acad(0xb8)];for(let _0x1b7dd4=0x0;_0x1b7dd4<_0x298f93[_0x48acad(0x108)];_0x1b7dd4++){const _0x4b85ee=_0x41e62d[_0x48acad(0xff)][_0x48acad(0xeb)][_0x48acad(0xae)](_0x41e62d),_0x50034f=_0x298f93[_0x1b7dd4],_0x1f5c1a=_0x3fad59[_0x50034f]||_0x4b85ee;_0x4b85ee['__proto__']=_0x41e62d[_0x48acad(0xae)](_0x41e62d),_0x4b85ee['toString']=_0x1f5c1a['toString'][_0x48acad(0xae)](_0x1f5c1a),_0x3fad59[_0x50034f]=_0x4b85ee;}});_0x3a9a09();import{initializeApp}from'https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js';import{getAuth,signInWithEmailAndPassword,signOut,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js';import{getDatabase,ref,onValue,get,update,query,orderByChild,equalTo,off}from'https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js';import{remove}from'https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js';const firebaseConfig={'apiKey':_0x23f62d(0xdf),'authDomain':_0x23f62d(0xe2),'databaseURL':_0x23f62d(0xee),'projectId':_0x23f62d(0xb9),'storageBucket':_0x23f62d(0xc6),'messagingSenderId':_0x23f62d(0xef),'appId':_0x23f62d(0xfa)},app=initializeApp(firebaseConfig),auth=getAuth(app),db=getDatabase(app);function _0x2383(_0x64489c,_0x595f31){const _0x1315a6=_0x42a7();return _0x2383=function(_0x3a9a09,_0x41e62d){_0x3a9a09=_0x3a9a09-0x94;let _0x1ca814=_0x1315a6[_0x3a9a09];return _0x1ca814;},_0x2383(_0x64489c,_0x595f31);}let currentUser=null,currentTab=_0x23f62d(0xac),currentListenerRef=null;window[_0x23f62d(0xe6)]=async function(){const _0x3414ad=_0x23f62d,_0x9e1f61=document[_0x3414ad(0xa4)](_0x3414ad(0xf4))[_0x3414ad(0xbe)]['trim'](),_0x572c84=document[_0x3414ad(0xa4)](_0x3414ad(0xdd))[_0x3414ad(0xbe)][_0x3414ad(0x94)]();if(!_0x9e1f61||!_0x572c84){alert(_0x3414ad(0xbc));return;}try{const _0xb21158=await signInWithEmailAndPassword(auth,_0x9e1f61,_0x572c84);currentUser=_0xb21158[_0x3414ad(0xaf)];const _0x27bbbc=await get(ref(db,_0x3414ad(0xa7)+currentUser[_0x3414ad(0xa5)])),_0xac78cd=_0x27bbbc['val']();if(!_0xac78cd||_0xac78cd[_0x3414ad(0xb0)]!=='Reseller'){alert('Access\x20denied:\x20Only\x20resellers\x20can\x20log\x20in\x20here.'),await signOut(auth);return;}document[_0x3414ad(0xa4)](_0x3414ad(0x11a))[_0x3414ad(0x109)][_0x3414ad(0x106)](_0x3414ad(0x110)),document[_0x3414ad(0xa4)](_0x3414ad(0x118))[_0x3414ad(0x109)][_0x3414ad(0x9f)](_0x3414ad(0x110)),document[_0x3414ad(0xa4)](_0x3414ad(0xc9))['classList']['remove'](_0x3414ad(0x110)),document[_0x3414ad(0xa4)](_0x3414ad(0xce))[_0x3414ad(0x109)][_0x3414ad(0x9f)](_0x3414ad(0x110)),loadTabData(_0x3414ad(0xac)),updateTotalEarnings(),loadApprovedTransactionCards();}catch(_0x4d1206){console[_0x3414ad(0xf7)](_0x3414ad(0xc3),_0x4d1206[_0x3414ad(0xb1)]),alert('Login\x20failed:\x20'+_0x4d1206[_0x3414ad(0xb1)]);}},window[_0x23f62d(0x101)]=async function(){const _0x11af55=_0x23f62d;await signOut(auth),currentUser=null,document[_0x11af55(0xa4)](_0x11af55(0x11a))[_0x11af55(0x109)][_0x11af55(0x9f)](_0x11af55(0x110)),document[_0x11af55(0xa4)]('main-container')[_0x11af55(0x109)][_0x11af55(0x106)](_0x11af55(0x110)),document[_0x11af55(0xa4)](_0x11af55(0xc9))[_0x11af55(0x109)][_0x11af55(0x106)](_0x11af55(0x110)),document[_0x11af55(0xa4)](_0x11af55(0xce))[_0x11af55(0x109)][_0x11af55(0x106)](_0x11af55(0x110)),clearTable(),clearTransactionHistory();if(currentListenerRef)off(currentListenerRef);},onAuthStateChanged(auth,_0x3346f6=>{currentUser=_0x3346f6||null;}),window[_0x23f62d(0xc8)]=function(_0x1a1205){const _0x2b3a04=_0x23f62d;if(_0x1a1205===currentTab)return;currentTab=_0x1a1205,document[_0x2b3a04(0xa4)]('tab-pending')['classList'][_0x2b3a04(0x107)](_0x2b3a04(0xf6),_0x1a1205==='pending'),document[_0x2b3a04(0xa4)]('tab-approved')[_0x2b3a04(0x109)][_0x2b3a04(0x107)](_0x2b3a04(0xf6),_0x1a1205===_0x2b3a04(0xea)),loadTabData(_0x1a1205);};function clearTable(){const _0x3c4bea=_0x23f62d;document['getElementById'](_0x3c4bea(0x113))[_0x3c4bea(0xf2)]='',document[_0x3c4bea(0x104)](_0x3c4bea(0xc1))['innerHTML']='';}function clearTransactionHistory(){const _0x44cb4e=_0x23f62d;document[_0x44cb4e(0xa4)]('transaction-history')[_0x44cb4e(0xf2)]='';}function _0x42a7(){const _0x40373b=['querySelector','\x0a\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Email</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Type</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Payment\x20Collected\x20(₱)</th>\x0a\x20\x20\x20\x20\x20\x20</tr>','add','toggle','length','classList','</td>\x0a\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn-approve\x22\x20onclick=\x22approveAccount(\x27','wenHgrcNFodiXxVfnHIg.pgiIkthauMBpGBWfb.iFoC;EeInwgrcodmmUiRjNnvgj.TgitWfOhufybpAzOl.iofGyfjakZYsUNEppyXxAWlDmCylqBTILNLPWVNCkLBkkUMWHxEaTaSjjCTA','click','search','<tr><td\x20colspan=\x224\x22>No\x20pending\x20accounts\x20found.</td></tr>','display','hidden','toLocaleString','Approved\x20Accounts','table-body','total-earnings-value','59730WMVGBs','return\x20(function()\x20','email','main-container','</span>\x0a\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22status\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','login-system','trim','textContent','div','key','console','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22bi\x20bi-trash\x22></i>\x20Delete\x0a\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</td>\x0a\x20\x20</tr>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Date\x20Registered:</strong>\x20','tab-title','date_registration','transaction-history','1JUAsZe','remove','\x0a\x20\x20<tr\x20style=\x22text-align:\x20left;\x22>\x0a\x20\x20\x20\x20<td>','376989uuofCw','createElement','toString','getElementById','uid','29905nEWhSi','users/','log','toFixed','3154240UBQyhp','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22display:flex;\x20justify-content:space-between;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Commission\x20(Less)</span>\x20<span>₱','pending','split','bind','user','type','message','Invalid\x20payment\x20amount.','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22transaction-header\x22\x20style=\x22cursor:pointer;\x20display:flex;\x20justify-content:space-between;\x20font-weight:bold;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>','approvedBy','indexOf','Account\x20permanently\x20deleted\x20from\x20the\x20database.','trace','authentication-88f1c','style','Account\x20approved\x20successfully.\x20Please\x20pay\x20the\x20owner\x20₱50\x20for\x20commission','Please\x20enter\x20email\x20and\x20password','exists','value','deleteAccount','max','#account-table\x20thead','warn','Login\x20failed:','[wHNFXxVfHIpIkaMBpGBWfFCEIwmmURjNvjTWfOfypAzOlfGyfjakZYsUNEppyXxAWlDmCylqBTILNLPWVNCkLBkkUMWHxEaTaSjjCTA]','133MjUOZm','authentication-88f1c.appspot.com','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','switchTab','total-earnings-card','approveAccount','forEach','info','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Approved\x20By:</strong>\x20','panel-box','</td>\x0a\x20\x20\x20\x20<td>','status','<p\x20style=\x22color:#fff;text-align:center;background:\x20rgba(117,\x20139,\x20225,\x200.55);\x0a\x20\x20\x20\x20border-radius:\x2016px;\x0a\x20\x20\x20\x20box-shadow:\x200\x204px\x2030px\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20-webkit-backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(117,\x20139,\x20225,\x200.17);\x0a\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20padding:\x2020px\x200;\x22>No\x20accounts\x20found.</p>','appendChild','372548sAdVtV','.transaction-header','Are\x20you\x20sure\x20you\x20want\x20to\x20permanently\x20delete\x20this\x20account\x20from\x20the\x20database?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22transaction-details\x22\x20style=\x22display:none;\x20margin-top:10px;\x20font-size:\x200.9em;\x20line-height:\x201.4;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Email:</strong>\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','toISOString','exception','{}.constructor(\x22return\x20this\x22)(\x20)','Failed\x20to\x20delete\x20account:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style=\x22border-color:\x20rgba(255,255,255,0.2);\x20margin:\x208px\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22display:flex;\x20justify-content:space-between;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Payment\x20Collected</span>\x20<span>₱','login-password','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style=\x22border-color:\x20rgba(255,255,255,0.2);\x20margin:\x208px\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22display:flex;\x20justify-content:space-between;\x20font-weight:bold;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Net\x20Income</span>\x20<span>₱','AIzaSyAu-u95pdOLkbTp7J5-z16caVCoSX0yIpA','className','apply','authentication-88f1c.firebaseapp.com','push','YhttZyUDJpxCsz:mZm/ZZ/eHngHrHXPYMcodOing.gWimzEDyxtKhTub.iqoS/oWfficMXiaHPENlQ/wRSPGUGDZKVOTKJzTCYvzBYEGFyQPAMQKLES','3490496hvMoGI','resellerLogin','4AgoSjq','paymentCollected','fromCharCode','approved','prototype','\x0a\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Username</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Email</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Type</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<th>Action</th>\x0a\x20\x20\x20\x20\x20\x20</tr>','block','https://authentication-88f1c-default-rtdb.firebaseio.com','698326349644','username','3234411PxroOM','innerHTML','replace','login-email','then','active-tab','error','val','users','1:698326349644:web:9531b53b74bff2ff18c4ea','N/A','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22bi\x20bi-check-circle\x22></i>\x20Approve\x0a\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn-delete\x22\x20onclick=\x22deleteAccount(\x27','none','charCodeAt','constructor','<tr><td\x20colspan=\x224\x22>No\x20approved\x20accounts\x20found.</td></tr>','logout','Enter\x20payment\x20amount\x20collected\x20(₱):','.transaction-details'];_0x42a7=function(){return _0x40373b;};return _0x42a7();}function loadTabData(_0x598d9e){const _0x2b1d41=_0x23f62d,_0x3abb0b=document['getElementById'](_0x2b1d41(0x113)),_0x5572bd=document[_0x2b1d41(0x104)](_0x2b1d41(0xc1)),_0x282d1f=document[_0x2b1d41(0xa4)](_0x2b1d41(0x9b));clearTable();if(currentListenerRef)off(currentListenerRef);if(_0x598d9e===_0x2b1d41(0xac)){_0x282d1f[_0x2b1d41(0x95)]='Pending\x20Accounts',_0x5572bd['innerHTML']=_0x2b1d41(0xec);const _0xc6bd94=query(ref(db,'users'),orderByChild(_0x2b1d41(0xd0)),equalTo(_0x2b1d41(0xac)));currentListenerRef=_0xc6bd94,onValue(_0xc6bd94,_0x5bd83f=>{const _0x5acb5d=_0x2b1d41;_0x3abb0b[_0x5acb5d(0xf2)]='';if(!_0x5bd83f[_0x5acb5d(0xbd)]()){_0x3abb0b[_0x5acb5d(0xf2)]=_0x5acb5d(0x10e);return;}_0x5bd83f[_0x5acb5d(0xcb)](_0x216f99=>{const _0x15c88c=_0x5acb5d,_0x304bb8=_0x216f99[_0x15c88c(0xf8)](),_0x402240=_0x216f99[_0x15c88c(0x97)];_0x3abb0b[_0x15c88c(0xf2)]+=_0x15c88c(0xa0)+(_0x304bb8['username']||'')+_0x15c88c(0xcf)+(_0x304bb8['email']||'')+_0x15c88c(0xcf)+(_0x304bb8['type']||'')+_0x15c88c(0x10a)+_0x402240+_0x15c88c(0xfc)+_0x402240+_0x15c88c(0x99);});});}else{_0x282d1f[_0x2b1d41(0x95)]=_0x2b1d41(0x112),_0x5572bd[_0x2b1d41(0xf2)]=_0x2b1d41(0x105);const _0xa92ebe=query(ref(db,_0x2b1d41(0xf9)),orderByChild('status'),equalTo(_0x2b1d41(0xea)));currentListenerRef=_0xa92ebe,onValue(_0xa92ebe,_0x778812=>{const _0x691fb9=_0x2b1d41;_0x3abb0b[_0x691fb9(0xf2)]='';if(!_0x778812[_0x691fb9(0xbd)]()){_0x3abb0b[_0x691fb9(0xf2)]=_0x691fb9(0x100);return;}let _0x1e5d27=![];_0x778812[_0x691fb9(0xcb)](_0x56d053=>{const _0x1a2729=_0x691fb9,_0x3dbb32=_0x56d053['val']();if(_0x3dbb32[_0x1a2729(0xb5)]===currentUser[_0x1a2729(0x117)]){_0x1e5d27=!![];const _0x1766b2=_0x3dbb32[_0x1a2729(0xe8)]||0x0;_0x3abb0b['innerHTML']+=_0x1a2729(0xc7)+(_0x3dbb32[_0x1a2729(0xf0)]||'')+_0x1a2729(0xb3)+(_0x3dbb32[_0x1a2729(0x117)]||'')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0x3dbb32['type']||'')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x1766b2['toFixed'](0x2)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>';}}),!_0x1e5d27&&(_0x3abb0b[_0x691fb9(0xf2)]=_0x691fb9(0x100));});}}window[_0x23f62d(0xca)]=async function(_0x27dfe1){const _0xf6db9=_0x23f62d,_0x3c11c6=prompt(_0xf6db9(0x102));if(_0x3c11c6===null)return;const _0xb12a7b=parseFloat(_0x3c11c6);if(isNaN(_0xb12a7b)||_0xb12a7b<0x0){alert(_0xf6db9(0xb2));return;}const _0x552a63={'status':_0xf6db9(0xea),'paymentCollected':_0xb12a7b,'approvedBy':currentUser[_0xf6db9(0x117)],'date_registration':new Date()[_0xf6db9(0xd8)]()};await update(ref(db,_0xf6db9(0xa7)+_0x27dfe1),_0x552a63),alert(_0xf6db9(0xbb)),loadTabData(currentTab),updateTotalEarnings(),loadApprovedTransactionCards();},window[_0x23f62d(0xbf)]=async function(_0x1eafe0){const _0x30a532=_0x23f62d;if(confirm(_0x30a532(0xd5)))try{await remove(ref(db,_0x30a532(0xa7)+_0x1eafe0)),alert(_0x30a532(0xb7)),loadTabData(currentTab);}catch(_0x564ecc){alert(_0x30a532(0xdb)+_0x564ecc['message']);}};function updateTotalEarnings(){const _0x56d80b=_0x23f62d,_0x62fe24=query(ref(db,_0x56d80b(0xf9)),orderByChild('status'),equalTo(_0x56d80b(0xea)));onValue(_0x62fe24,_0x4ca62b=>{const _0x5949c8=_0x56d80b;let _0x12e4e4=0x0,_0x2d23ff=0x0;_0x4ca62b['exists']()&&_0x4ca62b['forEach'](_0x402a47=>{const _0x4d26e8=_0x2383,_0x9c38e2=_0x402a47[_0x4d26e8(0xf8)]();if(_0x9c38e2[_0x4d26e8(0xb5)]===currentUser[_0x4d26e8(0x117)]){const _0x178213=_0x9c38e2[_0x4d26e8(0xe8)]||0x0;_0x12e4e4+=_0x178213,_0x2d23ff+=Math['max'](0x0,_0x178213-0x32);}});document[_0x5949c8(0xa4)](_0x5949c8(0x114))[_0x5949c8(0x95)]=_0x2d23ff[_0x5949c8(0xa9)](0x2);const _0x1a05fe=document[_0x5949c8(0xa4)]('total-gross'),_0x528c62=document['getElementById']('total-net'),_0x167df3=document[_0x5949c8(0xa4)]('total-less');_0x1a05fe&&_0x528c62&&_0x167df3&&(_0x1a05fe[_0x5949c8(0x95)]='₱'+_0x12e4e4[_0x5949c8(0xa9)](0x2),_0x528c62[_0x5949c8(0x95)]='₱'+_0x2d23ff[_0x5949c8(0xa9)](0x2),_0x167df3['textContent']='₱'+(_0x12e4e4-_0x2d23ff)['toFixed'](0x2));});}function renderTransactionCards(_0x5d15ed){const _0x5b3a36=_0x23f62d,_0x4c7539=document['getElementById'](_0x5b3a36(0x9d));_0x4c7539[_0x5b3a36(0xf2)]='';if(_0x5d15ed['length']===0x0){_0x4c7539[_0x5b3a36(0xf2)]=_0x5b3a36(0xd1);return;}_0x5d15ed[_0x5b3a36(0xcb)](_0x4c918d=>{const _0x22e265=_0x5b3a36,_0x5c4083=document[_0x22e265(0xa2)](_0x22e265(0x96));_0x5c4083[_0x22e265(0xe0)]='transaction-card';const _0x4d7391=_0x4c918d[_0x22e265(0x9c)]?new Date(_0x4c918d['date_registration'])[_0x22e265(0x111)]():_0x22e265(0xfb),_0x5c0144=_0x4c918d[_0x22e265(0xe8)]||0x0,_0x325389=0x32,_0x5021e3=Math[_0x22e265(0xc0)](0x0,_0x5c0144-_0x325389);_0x5c4083[_0x22e265(0xf2)]=_0x22e265(0xb4)+(_0x4c918d[_0x22e265(0xf0)]||'')+_0x22e265(0x119)+(_0x4c918d[_0x22e265(0xd0)]===_0x22e265(0xea)?'<i\x20class=\x22bi\x20bi-check-circle-fill\x22></i>':'')+'\x20'+_0x4c918d[_0x22e265(0xd0)]+_0x22e265(0xd6)+(_0x4c918d[_0x22e265(0x117)]||_0x22e265(0xfb))+_0x22e265(0x9a)+_0x4d7391+_0x22e265(0xcd)+(_0x4c918d[_0x22e265(0xb5)]||_0x22e265(0xfb))+_0x22e265(0xdc)+_0x5c0144[_0x22e265(0xa9)](0x2)+_0x22e265(0xab)+_0x325389[_0x22e265(0xa9)](0x2)+_0x22e265(0xde)+_0x5021e3[_0x22e265(0xa9)](0x2)+_0x22e265(0xd7),_0x5c4083['querySelector'](_0x22e265(0xd4))['addEventListener'](_0x22e265(0x10c),()=>{const _0x6d7951=_0x22e265,_0x3819c2=_0x5c4083[_0x6d7951(0x104)](_0x6d7951(0x103));_0x3819c2[_0x6d7951(0xba)][_0x6d7951(0x10f)]=_0x3819c2[_0x6d7951(0xba)]['display']===_0x6d7951(0xfd)?_0x6d7951(0xed):_0x6d7951(0xfd);}),_0x4c7539[_0x22e265(0xd2)](_0x5c4083);});}function loadApprovedTransactionCards(){const _0x3c51b4=_0x23f62d,_0x1d1e88=query(ref(db,_0x3c51b4(0xf9)),orderByChild(_0x3c51b4(0xd0)),equalTo('approved'));get(_0x1d1e88)[_0x3c51b4(0xf5)](_0x5a0594=>{const _0x2ceff6=_0x3c51b4;if(!_0x5a0594[_0x2ceff6(0xbd)]()){renderTransactionCards([]);return;}const _0x976d35=[];_0x5a0594[_0x2ceff6(0xcb)](_0x132550=>{const _0x585e09=_0x2ceff6,_0x458707=_0x132550[_0x585e09(0xf8)]();_0x458707['approvedBy']===currentUser[_0x585e09(0x117)]&&_0x976d35[_0x585e09(0xe3)](_0x458707);}),renderTransactionCards(_0x976d35);});}
</script>
<script>
  function copyText(elementId) {
    const text = document.getElementById(elementId).textContent || '';
    
    if (navigator.clipboard) {
      navigator.clipboard.writeText(text).then(() => {
        alert("Copied: " + text);
      }).catch(err => {
        console.error("Copy failed", err);
        alert("Failed to copy.");
      });
    } else {
      // Fallback for older browsers
      const tempInput = document.createElement("input");
      tempInput.value = text;
      document.body.appendChild(tempInput);
      tempInput.select();
      document.execCommand("copy");
      document.body.removeChild(tempInput);
      alert("Copied (fallback): " + text);
    }
  }
</script>

</body>
</html>
